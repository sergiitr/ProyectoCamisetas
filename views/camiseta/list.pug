extends ../layouts/main

block contenido
    link(rel="stylesheet", href="/css/camiseta/list.css")
    h2.neobrutalista-title.text-center.user-highlight Listado de Camisetas
    if mensaje!=null
        p.neobrutalista-text= mensaje
    
    // Contenedor de la cuadrícula de Bootstrap
    .container-fluid.mt-4
        // g-4 añade un gap (espaciado) entre las columnas
        .row.g-4 
            
            // Iterar sobre cada camiseta y crear una tarjeta
            each camiseta in camisetas
                // Define el tamaño de columna: 12 en móviles, 6 en tablets, 3 en escritorio (4 tarjetas por fila)
                .col-12.col-sm-6.col-lg-3.mb-4 
                    
                    // --- INICIO DE LA TARJETA DE PRODUCTO ---
                    .card.neobrutalista-card(style="height: 100%;")

                        // --- IMAGEN ALEATORIA ---
                        img.card-img-top(
                            src=camiseta.imagenUrl
                            alt="Imagen de camiseta"
                            style="height:180px; object-fit:contain; border-bottom:4px solid #000;"
                        )
                    
                        // Cuerpo de la Tarjeta
                        .card-body.p-3.d-flex.flex-column
                            
                            // Título y Marca
                            h5.card-title.neobrutalista-title.mb-1= camiseta.marca
                            p.neobrutalista-text.mb-2 
                                | Talla: #{camiseta.talla} 
                                <br/> 
                                | Color:
                                span(style=`font-weight: bold; color:${camiseta.color}`)= camiseta.color 
                                <br/> 
                                | Stock: #{camiseta.stock}
                            
                            // Espacio para empujar el precio y botón al final
                            .mt-auto
                                // Precio Destacado
                                .d-flex.justify-content-between.align-items-center.mt-3
                                    h4.neobrutalista-price #{camiseta.precio}€
                                    
                                    // INDICADOR DE STOCK (Estilo Neobrutalista)
                                    span.badge.text-uppercase.neobrutalista-stock(
                                        class=camiseta.stock > 0 ? 'bg-success' : 'bg-danger'
                                    )
                                        | #{camiseta.stock > 0 ? 'En Stock' : 'Agotado'}
                                
                                // --- BOTONES DE ACCIÓN ---
                                .d-grid.gap-2.mt-3

                                    if isAdmin
                                        // BOTÓN EDITAR
                                        a.btn.btn-sm.neobrutalismo-editar(href=`/admin/camiseta/edit/${camiseta.id}`) 
                                            | EDITAR (Activo: #{camiseta.activo==1 ? 'Sí' : 'No'})

                                        // BOTÓN BORRAR
                                        a.btn.btn-sm.neobrutalista-borrar(href=`/admin/camiseta/del/${camiseta.id}`) BORRAR
                                    
                                    else if camiseta.stock > 0  
                                        // BOTÓN COMPRAR
                                        a.btn.btn-sm.neobrutalista-btn.neobrutalista-button-acento(href=`/carrito/add/camiseta/${camiseta.id}`) COMPRAR
                    // --- FIN DE LA TARJETA ---
